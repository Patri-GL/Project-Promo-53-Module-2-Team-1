const p=document.querySelector(".nav_header"),y=document.querySelector(".hamburguer_header");y.addEventListener("click",()=>{p.classList.contains("nav_collapsed")?(p.classList.remove("nav_collapsed"),y.classList.add("nav_collapsed")):p.classList.add("nav_collapsed")});const C=document.querySelectorAll(".btnCollapsedData"),w=document.querySelectorAll(".js_dataSection");C.forEach((a,e)=>{a.addEventListener("click",o=>{o.preventDefault(),w[e].classList.toggle("collapsed")})});const l=document.querySelector(".decoration"),s=document.querySelector(".js-preview_photoProfile"),r=document.querySelector(".dataSheet__preview"),i=document.querySelector(".target__preview"),B=document.querySelector(".mode_0"),T=document.querySelector(".mode_1"),j=document.querySelector(".mode_2");document.querySelector(".mode_0B");document.querySelector(".mode_1B");document.querySelector(".mode_2B");document.querySelector("mode_1BB_on");document.querySelector("mode_2BB_on");function _(){r.classList.remove("mode_1_on"),r.classList.remove("mode_2_on"),r.classList.remove("mode_3_on"),s.classList.remove("mode_1_on"),s.classList.remove("mode_2_on"),s.classList.remove("mode_3_on"),l.classList.remove("mode_1B_on"),l.classList.remove("mode_2B_on"),l.classList.remove("mode_3B_on"),i.classList.remove("mode_2BB_on"),i.classList.remove("mode_1BB_on")}function k(){console.log("Tema 0"),r.classList.add("mode_0_on"),s.classList.add("mode_0_on"),l.classList.add("mode_0B_on")}function b(){console.log("Tema 1"),r.classList.add("mode_1_on"),s.classList.add("mode_1_on"),l.classList.add("mode_1B_on"),i.classList.add("mode_1BB_on")}function P(){console.log("Tema 2"),l.classList.add("mode_2_on"),r.classList.add("mode_2_on"),l.classList.add("mode_2B_on"),i.classList.add("mode_2BB_on")}B.addEventListener("click",()=>{_(),k()});T.addEventListener("click",()=>{_(),b()});j.addEventListener("click",()=>{_(),P()});const h=document.querySelector(".formAdaCurri"),d=document.querySelector(".js-preview_name"),m=document.querySelector(".js-preview_lastname"),u=document.querySelector(".js-preview_occupation"),v=document.querySelector(".js-emailPreview"),L=document.querySelector(".js-whatsappPreview"),S=document.querySelector(".js-preview_linksocial"),g=document.querySelector(".js-preview_gitsocial"),q=document.querySelector("#profilePhoto"),c=document.querySelector(".js-preview_photoProfile");window.getComputedStyle(c).backgroundImage;const E=document.querySelector(".js-refreshCardBtn");let t={name:"",lastname:"",occupation:"",profilePhoto:"",email:"",phone:"",linksocial:"",gitsocial:""};h.addEventListener("input",a=>{const e=a.target.id,o=a.target.value;t[e]=o,localStorage.setItem("info",JSON.stringify(t)),e==="name"?d.textContent=o:e==="lastname"?m.textContent=o:e==="occupation"?u.textContent=o:e==="email"?v.href=`https:// ${o}`:e==="whatsapp"?L.href=`https://wa.me/${o}`:e==="linksocial"?S.href=`https:// ${o}`:e==="gitsocial"&&(g.href=`https:// ${o}`),t.name===""&&t.lastname===""&&t.occupation===""&&(d.textContent="Nombre",m.textContent="Apellido",u.textContent="Ocupación")});q.addEventListener("change",()=>{const a=q.files[0];if(!a)return;const e=new FileReader;e.addEventListener("load",()=>{c.style.backgroundImage=`url(${e.result})`,t.profilePhoto=e.result,localStorage.setItem("info",JSON.stringify(t))}),e.readAsDataURL(a)});E.addEventListener("click",a=>{a.preventDefault(),h.reset(),Object.entries(resetValues).forEach(([e,o])=>{e==="photoProfileCard"?c.style.backgroundImage=o:document.querySelector(`#${e}`).textContent=o}),Object.keys(resetValues).forEach(e=>{localStorage.removeItem(e)})});const I=document.querySelector(".js-createCardBtn"),n=document.querySelector(".js_shareSection");function H(a){a.preventDefault();const e={field1:"1",field2:t.name,field3:t.lastname,field4:t.occupation,field5:t.email,field6:t.linksocial,field7:t.gitsocial,field8:t.phone,photo:t.profilePhoto};d.value===""?n.innerHTML="Falta por rellenar el nombre":m.value===""?n.innerHTML="Falta por rellenar el apellido":u.value===""?n.innerHTML="Falta por rellenar el ocupación":v.value===""?n.innerHTML="Falta por rellenar el email":L.value===""?n.innerHTML="Falta por rellenar el whatsapp":S.value===""?n.innerHTML="Falta por rellenar el Linkedin":g.value===""?n.innerHTML="Falta por rellenar el GitHub":c.value===null&&(n.innerHTML="Falta por adjuntar la foto"),n.innerHTML="Enviando información",console.log("antes del fetch"),fetch("https://dev.adalab.es/api/info/data",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(o=>o.json()).then(o=>{console.log(o),o.success===!1?n.innerHTML="No se ha podido guardar la información porque faltan campos por rellenar":n.innerHTML=`
            
            <h3 class="card-created">La tarjeta ha sido creada:</h3>
           <h5>
                Se ha guardado la información de tu Curriculum. Puedes verla en el siguiente enlace 
            </h5>    
                <a  href="card.html"
             >https://patri-gl.github.io/pw-project-Promo-53-Module-2-Team-1/card.html?id=${o.infoID}</a>
            
            <a class="share-btn" href="https://x.com/?lang=es"
              ><i class="fa-brands fa-twitter" style="color: #ffffff"></i>Compartir en
              twitter</a>`})}console.log("después de fetch");I.addEventListener("click",H);document.querySelector(".js_finalCard");const f=JSON.parse(localStorage.getItem("info"));if(f!==null){t=f;const a=h.querySelectorAll("input");for(const e of a)e.type!=="file"&&(e.value=f[e.id]);d.textContent=t.name,m.textContent=t.lastname,u.textContent=t.occupation,v.href=`https:// ${t.email}`,L.href=`https://wa.me/${t.phone}`,S.href=`https:// ${t.linksocial}`,g.href=`https:// ${t.gitsocial}`,c.style.backgroundImage=`url(${t.profilePhoto})`}console.log(">> Ready :)");
//# sourceMappingURL=main.js.map
